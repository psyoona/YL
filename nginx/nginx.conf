user  nginx;
# IIS 워커 프로세스 유사: auto면 CPU 코어 수만큼 워커 생성
worker_processes  auto;

events {
  # 워커당 동시 연결 수(총량 = worker_processes × worker_connections)
  worker_connections 1024;
}

http {
  include       /etc/nginx/mime.types;
  default_type  application/octet-stream;

  sendfile on;
  keepalive_timeout 65;
  client_max_body_size 50m;

  # W3C 유사 포맷
  log_format w3c '$time_local $server_addr '
                 '$request_method $http_host $uri $args '
                 '$remote_addr "$http_user_agent" '
                 '$status $body_bytes_sent $request_length '
                 '$request_time $upstream_response_time';

  access_log /var/log/nginx/access.log w3c;
  error_log  /var/log/nginx/error.log warn;

  include /etc/nginx/conf.d/*.conf;
}
